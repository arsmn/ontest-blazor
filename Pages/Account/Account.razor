@page "/settings/{tab?}"
@attribute [Authorize]

<OnTestTitle Title="Settings" Description="Manage your account" />
<MudTabs Elevation="25" Color="Color.Transparent" Rounded="true" PanelClass="mt-6" @bind-ActivePanelIndex="ActiveIndex">
    <MudTabPanel Text="Profile" Icon="@Icons.Material.Filled.Person">
        <Profile />
    </MudTabPanel>
    <MudTabPanel Text="Security" Icon="@Icons.Material.Filled.Security">
        <Security />
    </MudTabPanel>
</MudTabs>

@code {
    [Parameter] public string Tab { get; set; }
    private int ActiveIndex { get; set; }

    protected override void OnParametersSet()
    {
        Tab = Tab ?? "profile";

        switch (Tab)
        {
            case "profile":
                ActiveIndex = 0;
                break;
            case "security":
                ActiveIndex = 1;
                break;
        }
    }
}