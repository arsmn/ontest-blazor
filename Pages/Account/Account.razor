@page "/settings/{tab?}"
@attribute [Authorize]

<OnTestTitle Title="Settings" Description="Manage your account" />
<MudTabs Elevation="25" Color="Color.Transparent" Rounded="true" PanelClass="mt-6" @bind-ActivePanelIndex="_activeIndex">
    <MudTabPanel Text="Profile" Icon="@Icons.Material.Filled.Person">
        <Profile />
    </MudTabPanel>
    <MudTabPanel Text="Security" Icon="@Icons.Material.Filled.Security">
        <Security />
    </MudTabPanel>
    @* <MudTabPanel Text="Devices" Icon="@Icons.Material.Filled.Devices">
        <Devices />
    </MudTabPanel> *@
</MudTabs>

@code {
    [Parameter] public string Tab { get; set; }
    private int _activeIndex;

    protected override void OnParametersSet()
    {
        Tab = Tab ?? "profile";

        switch (Tab)
        {
            case "profile":
                _activeIndex = 0;
                break;
            case "security":
                _activeIndex = 1;
                break;
            @* case "devices":
                _activeIndex = 2;
                break; *@
        }
    }
}